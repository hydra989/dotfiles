From 4da79439c33f626eda432e9c2988adf1ba41c812 Mon Sep 17 00:00:00 2001
From: Hayden Curfman <hcurfman@keemail.me>
Date: Thu, 2 Jun 2022 22:09:54 -0400
Subject: [PATCH] customize header + hot reload colors

---
 config.def.h | 14 ++++++++++----
 dwm.c        | 11 +++++++++++
 2 files changed, 21 insertions(+), 4 deletions(-)

diff --git a/config.def.h b/config.def.h
index f5e33e6..146a2dd 100644
--- a/config.def.h
+++ b/config.def.h
@@ -1,6 +1,7 @@
 /* See LICENSE file for copyright and license details. */
 
 /* appearance */
+#include <X11/X.h>
 static unsigned int borderpx  = 1;        /* border pixel of windows */
 static unsigned int snap      = 32;       /* snap pixel */
 static int showbar            = 1;        /* 0 means no bar */
@@ -57,8 +58,9 @@ static const Layout layouts[] = {
 
 /* commands */
 static char dmenumon[2] = "0"; /* component of dmenucmd, manipulated in spawn() */
-static const char *dmenucmd[] = { "dmenu_run", "-m", dmenumon, "-fn", dmenufont, "-nb", normbgcolor, "-nf", normfgcolor, "-sb", selbordercolor, "-sf", selfgcolor, NULL };
-static const char *termcmd[]  = { "st", NULL };
+static const char *dmenucmd[] = { "rofi", "-show", "drun", "-modi", "drun", "-show-icons", NULL };
+static const char *termcmd[] = { "kitty", NULL };
+static const char *browscmd[] = { "firefox", NULL };
 
 /*
  * Xresources preferences to load at startup
@@ -83,6 +85,7 @@ static Key keys[] = {
 	/* modifier                     key        function        argument */
 	{ MODKEY,                       XK_p,      spawn,          {.v = dmenucmd } },
 	{ MODKEY|ShiftMask,             XK_Return, spawn,          {.v = termcmd } },
+	{ MODKEY|ShiftMask,             XK_j,      spawn,          {.v = browscmd } },
 	{ MODKEY,                       XK_b,      togglebar,      {0} },
 	{ MODKEY,                       XK_j,      focusstack,     {.i = +1 } },
 	{ MODKEY,                       XK_k,      focusstack,     {.i = -1 } },
@@ -104,6 +107,9 @@ static Key keys[] = {
 	{ MODKEY,                       XK_period, focusmon,       {.i = +1 } },
 	{ MODKEY|ShiftMask,             XK_comma,  tagmon,         {.i = -1 } },
 	{ MODKEY|ShiftMask,             XK_period, tagmon,         {.i = +1 } },
+	{ MODKEY,                       XK_semicolon, deitymode,   {.ui = ~1} },
+	{ MODKEY|ShiftMask,             XK_semicolon, deitymode,   {.ui = ~3} },
+	{ MODKEY|ShiftMask,             XK_r,      xrdb,           {0} },
 	TAGKEYS(                        XK_1,                      0)
 	TAGKEYS(                        XK_2,                      1)
 	TAGKEYS(                        XK_3,                      2)
@@ -140,7 +146,7 @@ static Button buttons[] = {
 /* deity modifier setup */
 static DeityMask deitymasks[] = {
 	/* modifier			mode arg */
-	{ ControlMask,			{1}},
-	{ ShiftMask,			{2}},
+	{ ControlMask,		{1}},
+	{ ShiftMask,		{2}},
 	{ Mod1Mask,			{3}},
 };
diff --git a/dwm.c b/dwm.c
index 31f680b..d03be27 100644
--- a/dwm.c
+++ b/dwm.c
@@ -2302,6 +2302,17 @@ load_xresources(void)
 	XCloseDisplay(display);
 }
 
+void
+xrdb(const Arg *arg)
+{
+	load_xresources();
+	int i;
+	for (i = 0; i < LENGTH(colors); i++)
+		scheme[i] = drw_scm_create(drw, colors[i], alphas[i], 3);
+	focus(NULL);
+	arrange(NULL);
+}
+
 int
 main(int argc, char *argv[])
 {
-- 
2.34.1

